<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Profile Badge Generator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      background: #222;
      color: #fff;
      margin: 0;
      padding: 10px;
    }

    h1 {
      font-size: 22px;
      margin-bottom: 15px;
      color: #ffffff;
      text-align: center;
    }

    canvas {
      width: 95%;
      max-width: 400px;
      height: auto;
      border: 1px solid #555;
      border-radius: 12px;
      background: transparent;
      margin-bottom: 20px;
    }

    .controls {
      display: flex;
      flex-direction: column;
      gap: 10px;
      width: 95%;
      max-width: 400px;
    }

    input[type="file"],
    input[type="text"],
    button,
    input[type="range"] {
      padding: 10px;
      border-radius: 8px;
      border: none;
      font-size: 16px;
    }

    input[type="text"] {
      width: 100%;
      box-sizing: border-box;
    }

    input[type="range"] {
      cursor: pointer;
    }

    button {
      background-color: #1da1f2;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover {
      background-color: #0d8ddb;
    }

    .credits {
      margin-top: 20px;
      font-size: 14px;
      color: #888;
      text-align: center;
    }

    label {
      font-size: 14px;
      margin-top: 5px;
      color: #ccc;
    }
  </style>
</head>
<body>

  <h1>Instagram Blue Tick Generator</h1>

  <!-- Preview Canvas -->
  <canvas id="canvas" width="600" height="400"></canvas>

  <!-- Hidden High-Res Canvas -->
  <canvas id="hdCanvas" width="1200" height="800" style="display:none;"></canvas>

  <div class="controls">
    <input type="file" id="uploadProfile" accept="image/*" />
    <input type="text" id="name" placeholder="Enter Name" />
    <input type="text" id="username" placeholder="@username" />
    
    <label for="scaleSlider">Resize All Elements:</label>
    <input type="range" id="scaleSlider" min="0.5" max="1.5" step="0.01" value="1" />

    <button id="download">Download PNG</button>
  </div>

  <div class="credits">
    Made with ❤️ by <strong>Niraj</strong>
  </div>

  <script>
    const canvas = document.getElementById("canvas");
    const ctx = canvas.getContext("2d");

    const hdCanvas = document.getElementById("hdCanvas");
    const hdCtx = hdCanvas.getContext("2d");

    const uploadProfile = document.getElementById("uploadProfile");
    const nameInput = document.getElementById("name");
    const usernameInput = document.getElementById("username");
    const downloadBtn = document.getElementById("download");
    const scaleSlider = document.getElementById("scaleSlider");

    let profileImg = null;
    let scaleFactor = 1;

    // Blue tick image (base64, kept full exactly as you had it)
    const tickImg = new Image();
    tickImg.src =
      "data:image/png;base64,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";

    // Upload profile image
    uploadProfile.addEventListener("change", (e) => {
      const file = e.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = (event) => {
        profileImg = new Image();
        profileImg.onload = () => redraw();
        profileImg.src = event.target.result;
      };
      reader.readAsDataURL(file);
    });

    // Text inputs
    nameInput.addEventListener("input", redraw);
    usernameInput.addEventListener("input", redraw);

    // Scale slider
    scaleSlider.addEventListener("input", () => {
      scaleFactor = parseFloat(scaleSlider.value);
      redraw();
    });

    // Download button
    downloadBtn.addEventListener("click", () => {
      draw(hdCtx, hdCanvas.width, hdCanvas.height);
      const link = document.createElement("a");
      link.download = "profile-badge.png";
      link.href = hdCanvas.toDataURL("image/png");
      link.click();
    });

    function redraw() {
      draw(ctx, canvas.width, canvas.height);
    }

    function draw(targetCtx, w, h) {
      targetCtx.clearRect(0, 0, w, h);

      // Profile circle
      const circleX = w * 0.17;
      const circleY = h * 0.5;
      const radius = h * 0.2 * scaleFactor;

      if (profileImg) {
        targetCtx.save();
        targetCtx.beginPath();
        targetCtx.arc(circleX, circleY, radius, 0, Math.PI * 2);
        targetCtx.closePath();
        targetCtx.clip();

        const imgRatio = profileImg.width / profileImg.height;
        const boxSize = radius * 2;

        let drawWidth, drawHeight;
        if (imgRatio > 1) {
          drawHeight = boxSize;
          drawWidth = boxSize * imgRatio;
        } else {
          drawWidth = boxSize;
          drawHeight = boxSize / imgRatio;
        }

        const dx = circleX - drawWidth / 2;
        const dy = circleY - drawHeight / 2;

        targetCtx.drawImage(profileImg, dx, dy, drawWidth, drawHeight);
        targetCtx.restore();
      }

      // Name
      targetCtx.fillStyle = "#fff";
      targetCtx.font = `bold ${h * 0.1 * scaleFactor}px Arial`;
      const nameText = nameInput.value || "Your Name";
      const nameWidth = targetCtx.measureText(nameText).width;
      targetCtx.fillText(nameText, w * 0.35, h * 0.5);

      // Username
      targetCtx.fillStyle = "#ccc";
      targetCtx.font = `${h * 0.07 * scaleFactor}px Arial`;
      targetCtx.fillText(usernameInput.value || "@username", w * 0.35, h * 0.60);

      // Blue tick
      if (tickImg.complete) {
        const tickSize = h * 0.11 * scaleFactor;
        const tickX = w * 0.35 + nameWidth + 10 * scaleFactor;
        const tickY = h * 0.41;
        targetCtx.drawImage(tickImg, tickX, tickY, tickSize, tickSize);
      }
    }

    // Initial draw
    tickImg.onload = redraw;
    redraw();
  </script>
</body>
</html>
